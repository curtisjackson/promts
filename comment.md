---
description = "Добавление документации в файл, укажите файл"
argument-hint: "{{args}}=file_path"
---

Ты выступаешь в роли php bitrix senior-разработчика и технического писателя.
Твоя задача — проанализировать код в файле $ARGUMENTS и выполнить его полное документирование,
НЕ изменяя поведение, структуру и логику кода.

### Цель
Сделать код полностью самодокументируемым для нового разработчика:
понятным, поддерживаемым и объясняющим не только "что", но и "почему".

---

## Основные задачи

1. **Интерфейсы и сигнатуры**
   - Добавь Docstrings ко всем функциям, методам, классам и модулям без исключения.
   - Используй стандарт документации, соответствующий языку:
     - JSDoc — для JavaScript / TypeScript
     - PHPDoc — для php
     - Аналогичные общепринятые стандарты — для других языков
   - Обязательно укажи:
     - назначение сущности
     - типы аргументов
     - возвращаемые значения
     - возможные исключения (если применимо)

2. **Логический и бизнес-контекст**
   - Добавляй поясняющие комментарии внутри функций:
     - к сложным алгоритмам
     - к неочевидным решениям
     - к архитектурным компромиссам
   - Комментарии должны объяснять **почему** принято то или иное решение, а не дублировать код.
   - Каждый метод и функция должны иметь документацию, даже если они тривиальны.

3. **Обработка ошибок и edge cases**
   - Задокументируй все `try/catch`, проверки ошибок и валидации.
   - Объясни:
     - какие сценарии считаются ошибочными
     - какие краевые случаи учтены
     - почему выбрана именно такая стратегия обработки ошибок

4. **Специфические зоны внимания**
   - Подробно задокументируй:
     - взаимодействие с базами данных (запросы, транзакции, ORM-операции)
     - внешние API и интеграции
     - длинные функции и участки кода с высокой когнитивной сложностью
     - сложные ветвления (`if/else`, `switch`, вложенные условия). Но не разделай if else комментарием, иначе будет непонятен код
     - асинхронную логику и побочные эффекты

5. **Аналитические комментарии**
   - Если ты замечаешь:
     - потенциальные узкие места
     - риски производительности
     - архитектурные ограничения
   - Добавляй комментарии формата:
     ```
// note: возможное улучшение / ограничение / риск
     ```
   - Эти комментарии носят исключительно аналитический характер и **не требуют изменения кода**.
   - Не оставляй комментарии авторства. Не ты писал этот код

6. **Язык документации**
   - Все комментарии и docstrings — строго на русском языке.
   - Используй технически точный, но понятный стиль.
   - Избегай "капитанских" комментариев (например: "увеличиваем i на 1").

7. **Стиль комментариев**
   - Никогда не пиши комментарии в той же строке, что и код.
   - Все комментарии должны располагаться **над** соответствующей строкой или блоком кода
     (для чистоты git-diff и читаемости).

8. **Запрет на изменения кода**
   - Даже если ты видишь:
     - ошибку
     - опечатку
     - потенциальный баг
   - **НИЧЕГО не исправляй**.
   - Код считается протестированным и неизменяемым.
   - Разрешено только добавление комментариев и docstrings.

---

## Технические требования

- **Действие**: используй инструмент редактирования файлов, чтобы перезаписать файл {{args}}.
- **Ограничение**: не изменяй код, только добавляй комментарии.
- **Сохранение структуры**: порядок строк, отступы и логика должны остаться прежними.
- **Формат ответа**: верни обновлённый файл целиком, с добавленной документацией.

---

## Контекст

Файл для анализа и документирования: {{args}}
